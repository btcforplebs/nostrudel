{"version":3,"file":"streams-CIHBLx03.js","sources":["../../src/views/user/streams.tsx"],"sourcesContent":["import { SimpleGrid } from \"@chakra-ui/react\";\nimport { useOutletContext } from \"react-router-dom\";\nimport { kinds } from \"nostr-tools\";\nimport { getEventUID } from \"applesauce-core/helpers\";\n\nimport { truncatedId } from \"../../helpers/nostr/event\";\nimport { useAdditionalRelayContext } from \"../../providers/local/additional-relay-context\";\nimport TimelineActionAndStatus from \"../../components/timeline/timeline-action-and-status\";\nimport IntersectionObserverProvider from \"../../providers/local/intersection-observer\";\nimport { useTimelineCurserIntersectionCallback } from \"../../hooks/use-timeline-cursor-intersection-callback\";\nimport useTimelineLoader from \"../../hooks/use-timeline-loader\";\nimport useParsedStreams from \"../../hooks/use-parsed-streams\";\nimport StreamCard from \"../streams/components/stream-card\";\nimport VerticalPageLayout from \"../../components/vertical-page-layout\";\n\nexport default function UserStreamsTab() {\n  const { pubkey } = useOutletContext() as { pubkey: string };\n  const readRelays = useAdditionalRelayContext();\n\n  const { loader, timeline: events } = useTimelineLoader(truncatedId(pubkey) + \"-streams\", readRelays, [\n    {\n      authors: [pubkey],\n      kinds: [kinds.LiveEvent],\n    },\n    { \"#p\": [pubkey], kinds: [kinds.LiveEvent] },\n  ]);\n\n  const callback = useTimelineCurserIntersectionCallback(loader);\n  const streams = useParsedStreams(events);\n\n  return (\n    <IntersectionObserverProvider callback={callback}>\n      <VerticalPageLayout>\n        <SimpleGrid columns={{ base: 1, md: 2, lg: 3, xl: 4 }} spacing=\"2\">\n          {streams.map((stream) => (\n            <StreamCard key={getEventUID(stream.event)} stream={stream} />\n          ))}\n        </SimpleGrid>\n        <TimelineActionAndStatus timeline={loader} />\n      </VerticalPageLayout>\n    </IntersectionObserverProvider>\n  );\n}\n"],"names":["UserStreamsTab","pubkey","useOutletContext","readRelays","useAdditionalRelayContext","loader","events","useTimelineLoader","truncatedId","kinds","callback","useTimelineCurserIntersectionCallback","streams","useParsedStreams","jsx","IntersectionObserverProvider","jsxs","VerticalPageLayout","SimpleGrid","stream","StreamCard","getEventUID","TimelineActionAndStatus"],"mappings":"kQAeA,SAAwBA,GAAiB,CACjC,KAAA,CAAE,OAAAC,GAAWC,IACbC,EAAaC,IAEb,CAAE,OAAAC,EAAQ,SAAUC,CAAO,EAAIC,EAAkBC,EAAYP,CAAM,EAAI,WAAYE,EAAY,CACnG,CACE,QAAS,CAACF,CAAM,EAChB,MAAO,CAACQ,EAAM,SAAS,CACzB,EACA,CAAE,KAAM,CAACR,CAAM,EAAG,MAAO,CAACQ,EAAM,SAAS,CAAE,CAAA,CAC5C,EAEKC,EAAWC,EAAsCN,CAAM,EACvDO,EAAUC,EAAiBP,CAAM,EAEvC,OACGQ,EAAA,IAAAC,EAAA,CAA6B,SAAAL,EAC5B,SAAAM,OAACC,EACC,CAAA,SAAA,CAACH,EAAAA,IAAAI,EAAA,CAAW,QAAS,CAAE,KAAM,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,CAAK,EAAA,QAAQ,IAC5D,SAAQN,EAAA,IAAKO,GACXL,EAAA,IAAAM,EAAA,CAA2C,OAAAD,CAA3B,EAAAE,EAAYF,EAAO,KAAK,CAAmB,CAC7D,CACH,CAAA,EACAL,EAAAA,IAACQ,EAAwB,CAAA,SAAUjB,CAAQ,CAAA,CAAA,CAC7C,CAAA,CACF,CAAA,CAEJ"}