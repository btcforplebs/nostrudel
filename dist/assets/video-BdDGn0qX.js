import{j as e,cQ as x,cR as p,dK as j,cS as k,ea as h,cV as g,af as d,eb as y,r as b,dI as B,ec as f,ed as I,ee as V,z as R,ef as E,eg as S,ad as D,at as w,_ as M,ct as z,eh as L,ei as U,ej as A,ek as C,b4 as v,V as F,F as u,B as T,H as l,y as m,cd as N,el as P,aN as G,Z as H,bD as O,em as _,ce as K,T as Q,cg as Z,aC as q,e as J,f as W,e9 as X,c9 as Y}from"./index-C6wlVu-O.js";import{V as $}from"./video-card-Mswz4BXN.js";function ee({video:s,...t}){return e.jsx(e.Fragment,{children:e.jsxs(x,{...t,children:[e.jsx(p,{event:s}),e.jsx(j,{event:s}),e.jsx(k,{event:s}),e.jsx(h,{event:s}),e.jsx(g,{event:s})]})})}function se({event:s,...t}){const n=d(),a=y(s)??[],o=b.useMemo(()=>B(a),[a]),c=f(s,o),r=o.find(i=>i.emoji==="-");return e.jsx(I,{emoji:"-",count:(r==null?void 0:r.pubkeys.length)??0,onClick:()=>c("-"),colorScheme:n&&(r!=null&&r.pubkeys.includes(n==null?void 0:n.pubkey))?"primary":void 0,...t})}function te({event:s,...t}){const n=d(),{isLoading:a,toggleBookmark:o,isBookmarked:c}=V(s);return e.jsx(R,{icon:c?e.jsx(E,{}):e.jsx(S,{}),isDisabled:(n==null?void 0:n.readonly)??!0,onClick:o,isLoading:a,...t})}function ne({video:s}){const t=J(),{loader:n,timeline:a}=W(s.pubkey+"-videos",t,{authors:[s.pubkey],kinds:[X]});return e.jsx(e.Fragment,{children:a==null?void 0:a.slice(0,8).map(o=>e.jsx($,{video:o},Y(o)))})}function ae({video:s}){const t=L(s),{thumb:n,image:a}=U(s),o=A(s),c=C(s),r=v({base:!1,xl:!0});return e.jsx(F,{children:e.jsxs(u,{gap:"4",children:[e.jsxs(u,{direction:"column",gap:"2",flexGrow:1,children:[e.jsx(T,{as:"video",src:c,w:"full",maxH:"95vh",controls:!0,poster:a||n}),e.jsxs(u,{gap:"2",overflow:"hidden",children:[e.jsx(l,{size:"md",my:"2",isTruncated:!0,children:t}),e.jsxs(m,{ml:"auto",size:"sm",variant:"ghost",children:[e.jsx(N,{event:s}),e.jsx(P,{event:s}),e.jsx(se,{event:s})]})]}),e.jsxs(u,{gap:"2",alignItems:"center",children:[e.jsx(G,{pubkey:s.pubkey,size:"sm"}),e.jsx(H,{pubkey:s.pubkey,fontSize:"lg",tab:"videos"}),e.jsx(O,{pubkey:s.pubkey,onlyIcon:!0}),e.jsx(_,{pubkey:s.pubkey,size:"sm"}),e.jsxs(m,{ml:"auto",size:"sm",variant:"ghost",children:[e.jsx(te,{event:s,"aria-label":"Bookmark video",title:"Bookmark video"}),e.jsx(K,{event:s})]}),e.jsx(ee,{video:s,"aria-label":"More options",size:"sm"})]}),e.jsx(Q,{mt:"2",whiteSpace:"pre-line",children:o}),e.jsx(u,{gap:"2",wrap:"wrap",children:s.tags.filter(i=>i[0]==="t").map(i=>e.jsx(Z,{children:i[1]},i[1]))})]}),r&&e.jsxs(u,{gap:"2",direction:"column",w:"sm",flexShrink:0,children:[e.jsxs(l,{size:"sm",children:["Other videos by ",e.jsx(q,{pubkey:s.pubkey}),":"]}),e.jsx(ne,{video:s})]})]})})}function ie(){const s=D("naddr"),t=w(s);return t?e.jsx(z,{children:e.jsx(ae,{video:t})}):e.jsx(M,{})}export{ie as default};
//# sourceMappingURL=video-BdDGn0qX.js.map
