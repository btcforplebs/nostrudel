import{e as u,f as x,hv as m,r as h,hw as n,aA as f,dT as p,j as e,V as k,F as j,H as t,hx as v,l as y,b1 as g,E as L,b as l,S as z,L as A,a as E,da as W,aB as w,bB as I,hy as b,hz as S}from"./index-C6wlVu-O.js";import{W as F}from"./wiki-search-form-DoxHDalM.js";function R(s){return b(s)?s.content.length>0:!1}function P(){const s=u(S),{loader:o,timeline:r}=x("wiki-recent-pages",s,[{kinds:[m]}],{eventFilter:R});h.useEffect(()=>{if(r)for(const a of r)n.handleEvent(a)},[r]);const c=f();return p(c,1e3),e.jsxs(k,{children:[e.jsxs(j,{mx:"auto",mt:"10vh",mb:"10vh",direction:"column",alignItems:"center",maxW:"full",children:[e.jsx(t,{children:e.jsx(v,{topic:"wikifreedia",color:"inherit",children:"Wikifreedia"})}),e.jsxs(y,{isExternal:!0,color:"blue.500",href:"https://wikifreedia.xyz/",children:["wikifreedia.xyz ",e.jsx(g,{})]}),e.jsx(F,{maxW:"full",mt:"4"}),e.jsx(L,{variant:"link",p:"2",mt:"2",as:l,to:"/wiki/create",children:"Create Page"})]}),e.jsx(t,{size:"md",mt:"4",children:"Recent Updates:"}),e.jsx(z,{spacing:"2",columns:{base:1,lg:2,xl:3},children:Array.from(n.topics).filter(([a,i])=>!!i.value&&i.value.size>0).sort((a,i)=>i[1].value.size-a[1].value.size).map(([a,i])=>e.jsxs(A,{p:"2",children:[e.jsx(t,{size:"md",children:e.jsx(E,{as:l,to:`/wiki/topic/${a}`,children:a})}),e.jsx(W,{size:"sm",children:Array.from(i.value.values()).map(d=>e.jsx(w,{pubkey:d.pubkey}))})]},a))}),e.jsx(I,{timeline:o})]})}export{P as default};
//# sourceMappingURL=index-DlZPmpce.js.map
