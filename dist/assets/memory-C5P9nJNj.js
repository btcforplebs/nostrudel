import{aA as u,r as i,dU as s,hV as r,hU as d,j as e,T as f,y as m,F as x,C as o,H as l}from"./index-C6wlVu-O.js";import{E as p,a as j}from"./event-kinds-table-ZNhBMzdA.js";import{I as E,E as b}from"./export-events-button-LHehTa1G.js";async function h(t){var a;for(const n of t)(a=s)==null||a.publish(n)}async function y(){return s instanceof r?Array.from(s.store.database.iterateTime(0,1/0)):[]}function F(){const t=u();i.useEffect(()=>{if(s instanceof r){const c=s.store.database.inserted.subscribe(t);return()=>c.unsubscribe()}},[]);const a=i.useMemo(()=>s instanceof r?s.store.database.events.size:0,[t]),n=i.useMemo(()=>s instanceof r?d(Array.from(s.store.database.iterateTime(0,1/0))):{},[t]);return e.jsxs(e.Fragment,{children:[e.jsxs(f,{children:["Total events: ",a??"Loading..."]}),e.jsxs(m,{flexWrap:"wrap",children:[e.jsx(E,{onLoad:h}),e.jsx(b,{getEvents:y})]}),e.jsx(x,{gap:"2",wrap:"wrap",alignItems:"flex-start",w:"full",children:n&&e.jsxs(e.Fragment,{children:[e.jsxs(o,{p:"2",minW:"sm",maxW:"lg",flex:1,children:[e.jsx(l,{size:"sm",children:"Events by kind"}),e.jsx(p,{kinds:n})]}),e.jsx(o,{p:"2",minW:"sm",maxW:"md",flex:1,children:e.jsx(j,{kinds:n})})]})})]})}export{F as default};
//# sourceMappingURL=memory-C5P9nJNj.js.map
