import{aD as L,j as e,aE as T,aF as w,af as C,ay as g,e as I,r as j,aG as m,s as h,aH as O,aI as B,aJ as v,aK as E,aL as K,f as z,F as c,_ as y,H as k,V as N,aM as V,c as A,aN as H,Z as M,aO as U,aP as $,aQ as D,aR as G,k as u}from"./index-C6wlVu-O.js";function _({pubkey:s}){const a=C(),i=g(a.pubkey),r=g(s),b=I(),p=j.useMemo(()=>{if(!i||!r)return[];const t=new Set(m(i).map(n=>n.pubkey)),S=new Set(m(r).map(n=>n.pubkey));return Array.from(S).filter(n=>!t.has(n)&&n!==a.pubkey)},[i,r,a.pubkey]),o=h({defaultIsOpen:localStorage.getItem("show-replies")==="true"}),l=h({defaultIsOpen:localStorage.getItem("show-reposts")!=="false"}),d=O(),x=B(),F=j.useCallback(t=>x(t)||!o.isOpen&&v(t)||!l.isOpen&&E(t)?!1:d(t),[d,o.isOpen,l.isOpen,x]),{kinds:f}=K(),{loader:P,timeline:R}=z(`blnidspot-${a.pubkey}-${s}-${f.join(",")}`,b,p.length>0?[{authors:p,kinds:f}]:void 0,{eventFilter:F});return i?r?e.jsxs(N,{children:[e.jsxs(c,{gap:"2",alignItems:"center",children:[e.jsx(V,{}),e.jsx(A,{boxSize:6}),e.jsx(H,{size:"sm",pubkey:s}),e.jsx(M,{pubkey:s,isTruncated:!0,fontWeight:"bold"}),e.jsx(U,{showReplies:o,showReposts:l}),e.jsx($,{}),e.jsx(D,{})]}),e.jsx(G,{loader:P,timeline:R})]}):e.jsxs(c,{gap:"4",alignItems:"center",justifyContent:"center",flex:1,children:[e.jsx(y,{}),e.jsx(k,{size:"lg",children:"Loading other users contacts..."})]}):e.jsxs(c,{gap:"4",alignItems:"center",justifyContent:"center",flex:1,children:[e.jsx(y,{}),e.jsx(k,{size:"lg",children:"Loading your contacts..."})]})}const J=[u.ShortTextNote,u.Repost,u.GenericRepost];function W(){const s=L("pubkey");return s?e.jsx(w,{initKinds:J,children:e.jsx(_,{pubkey:s.pubkey})}):e.jsx(T,{to:"/discovery/blindspot"})}export{W as default};
//# sourceMappingURL=feed-B1DPVD9x.js.map
