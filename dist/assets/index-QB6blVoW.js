import{j as e,dt as v,b2 as b,bq as w,e as y,bZ as C,aI as P,br as k,r as o,bs as L,k as d,f as E,i as R,V as F,F as I,bt as A,c8 as T,I as M,H as c,S as u,bB as O}from"./index-C6wlVu-O.js";import{S as m}from"./stream-card-C9oVRsFU.js";import{u as V}from"./use-relays-changed-DAaDxEth.js";import{u as q}from"./use-parsed-streams-DfYuZOzw.js";import"./stream-hashtags-DvltmNAH.js";function z(){w("Streams");const i=y(C()).urls,n=P(),r=k("ended",!1),x=o.useCallback(s=>!n(s),[n]),{filter:t,listId:p}=L(),h=o.useMemo(()=>{if(t)return[{authors:t.authors,kinds:[d.LiveEvent]},{"#p":t.authors,kinds:[d.LiveEvent]}]},[t]),{loader:a,timeline:j}=E(`${p??"global"}-streams`,i,h,{eventFilter:x}),g=R(a);V(i,()=>a.reset());const l=q(j),S=l.filter(s=>s.status==="live"),f=l.filter(s=>s.status==="ended");return e.jsxs(F,{children:[e.jsxs(I,{gap:"2",wrap:"wrap",alignItems:"center",children:[e.jsx(A,{}),e.jsx(T,{isChecked:r.isOpen,onChange:r.onToggle,children:"Show Ended"})]}),e.jsxs(M,{callback:g,children:[e.jsx(c,{size:"lg",mt:"2",children:"Live"}),e.jsx(u,{columns:{base:1,md:2,lg:3,xl:4},spacing:"2",children:S.map(s=>e.jsx(m,{stream:s},s.event.id))}),r.isOpen&&e.jsxs(e.Fragment,{children:[e.jsx(c,{size:"lg",mt:"4",children:"Ended"}),e.jsx(u,{columns:{base:1,md:2,lg:3,xl:4},spacing:"2",children:f.map(s=>e.jsx(m,{stream:s},s.event.id))})]}),e.jsx(O,{timeline:a})]})]})}function $(){return e.jsx(v,{relays:["wss://nos.lol","wss://relay.damus.io","wss://relay.snort.social","wss://nostr.wine"],children:e.jsx(b,{children:e.jsx(z,{})})})}export{$ as default};
//# sourceMappingURL=index-QB6blVoW.js.map
