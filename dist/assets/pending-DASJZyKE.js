import{af as f,c_ as y,bY as j,by as k,c$ as h,d0 as I,cY as b,i as P,j as t,I as A,aW as M,bB as v,a6 as E,u as O,dm as F,r as m,t as R,m as g,F as x,E as S,bu as _}from"./index-C6wlVu-O.js";import{C}from"./community-post-BPGddPsB.js";function L({event:s,community:e,approvals:i}){const n=E(),r=O(s),c=F(e),[l,o]=m.useState(!1),u=m.useCallback(async()=>{o(!0);const d=c[0],p={kind:b,content:JSON.stringify(s),created_at:R().unix(),tags:[d?["a",g(e),d]:["a",g(e)],["e",s.id],["p",s.pubkey],["k",String(s.kind)]]};await n("Approve",p),o(!1)},[s,n,o,e]);return t.jsxs(x,{direction:"column",gap:"2",ref:r,children:[t.jsx(C,{event:s,approvals:i}),t.jsx(x,{gap:"2",children:t.jsx(S,{colorScheme:"primary",leftIcon:t.jsx(_,{}),size:"sm",ml:"auto",onClick:u,isLoading:l,children:"Approve"})})]})}function U(){const s=f(),e=y(),{community:i,timeline:n}=j(),r=k(n.timeline)??[],c=h(i),l=I(r,c),o=r.filter(a=>a.kind!==b&&!l.has(a.id)&&!e(a)),u=P(n),p=!!s&&c.includes(s==null?void 0:s.pubkey)?L:C;return t.jsxs(t.Fragment,{children:[t.jsx(A,{callback:u,children:o.map(a=>t.jsx(p,{event:a,community:i,approvals:[]},M(a)))}),t.jsx(v,{timeline:n})]})}export{U as default};
//# sourceMappingURL=pending-DASJZyKE.js.map
