import{r as s,j as p,B as E}from"./index-C6wlVu-O.js";import{H as t}from"./hls-Bon9X3-D.js";var R=(r=>(r.Online="online",r.Offline="offline",r))(R||{});function S({stream:r,autoPlay:l,poster:a,muted:c,...f}){const o=s.useRef(null),[u,n]=s.useState();return s.useEffect(()=>{if(r&&o.current&&!o.current.src&&t.isSupported())try{const e=new t({capLevelToPlayerSize:!0});return e.loadSource(r),e.attachMedia(o.current),e.on(t.Events.ERROR,(d,i)=>{i.type===t.ErrorTypes.NETWORK_ERROR&&i.fatal&&(e.stopLoad(),e.detachMedia(),n("offline"))}),e.on(t.Events.MANIFEST_PARSED,()=>{n("online")}),()=>e.destroy()}catch(e){console.error(e),n("offline")}},[o,r]),p.jsx(E,{as:"video",ref:o,playsInline:!0,controls:u==="online",autoPlay:l,poster:a,muted:c,...f})}export{R as VideoStatus,S as default};
//# sourceMappingURL=live-video-player-CaE8qRC3.js.map
