{"version":3,"file":"index-B2ONtybC.js","sources":["../../src/views/videos/index.tsx"],"sourcesContent":["import { Flex, SimpleGrid } from \"@chakra-ui/react\";\nimport { getEventUID } from \"applesauce-core/helpers\";\n\nimport useTimelineLoader from \"../../hooks/use-timeline-loader\";\nimport PeopleListProvider, { usePeopleListContext } from \"../../providers/local/people-list-provider\";\nimport PeopleListSelection from \"../../components/people-list-selection/people-list-selection\";\nimport TimelineActionAndStatus from \"../../components/timeline/timeline-action-and-status\";\nimport VerticalPageLayout from \"../../components/vertical-page-layout\";\nimport { useTimelineCurserIntersectionCallback } from \"../../hooks/use-timeline-cursor-intersection-callback\";\nimport IntersectionObserverProvider from \"../../providers/local/intersection-observer\";\nimport { FLARE_VIDEO_KIND } from \"../../helpers/nostr/flare\";\nimport VideoCard from \"./components/video-card\";\nimport { ErrorBoundary } from \"../../components/error-boundary\";\nimport { useReadRelays } from \"../../hooks/use-client-relays\";\n\nfunction VideosPage() {\n  const { listId, filter } = usePeopleListContext();\n  const relays = useReadRelays();\n\n  const { loader, timeline: videos } = useTimelineLoader(\n    `${listId}-videos`,\n    relays,\n    filter && { kinds: [FLARE_VIDEO_KIND], ...filter },\n  );\n  const callback = useTimelineCurserIntersectionCallback(loader);\n\n  return (\n    <VerticalPageLayout>\n      <Flex gap=\"2\">\n        <PeopleListSelection />\n      </Flex>\n\n      <IntersectionObserverProvider callback={callback}>\n        <SimpleGrid columns={{ base: 1, sm: 2, md: 3, lg: 4, xl: 5 }} spacing=\"2\">\n          {videos?.map((video) => (\n            <ErrorBoundary key={getEventUID(video)} event={video}>\n              <VideoCard video={video} />\n            </ErrorBoundary>\n          ))}\n        </SimpleGrid>\n      </IntersectionObserverProvider>\n      <TimelineActionAndStatus timeline={loader} />\n    </VerticalPageLayout>\n  );\n}\n\nexport default function VideosView() {\n  return (\n    <PeopleListProvider initList=\"following\">\n      <VideosPage />\n    </PeopleListProvider>\n  );\n}\n"],"names":["VideosPage","listId","filter","usePeopleListContext","relays","useReadRelays","loader","videos","useTimelineLoader","FLARE_VIDEO_KIND","callback","useTimelineCurserIntersectionCallback","VerticalPageLayout","jsx","Flex","PeopleListSelection","IntersectionObserverProvider","SimpleGrid","video","ErrorBoundary","VideoCard","getEventUID","TimelineActionAndStatus","VideosView","PeopleListProvider"],"mappings":"8LAeA,SAASA,GAAa,CACpB,KAAM,CAAE,OAAAC,EAAQ,OAAAC,CAAO,EAAIC,EAAqB,EAC1CC,EAASC,IAET,CAAE,OAAAC,EAAQ,SAAUC,CAAW,EAAAC,EACnC,GAAGP,CAAM,UACTG,EACAF,GAAU,CAAE,MAAO,CAACO,CAAgB,EAAG,GAAGP,CAAO,CAAA,EAE7CQ,EAAWC,EAAsCL,CAAM,EAE7D,cACGM,EACC,CAAA,SAAA,CAAAC,MAACC,EAAK,CAAA,IAAI,IACR,SAAAD,MAACE,GAAoB,CAAA,EACvB,QAECC,EAA6B,CAAA,SAAAN,EAC5B,SAACG,EAAAA,IAAAI,EAAA,CAAW,QAAS,CAAE,KAAM,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,CAAE,EAAG,QAAQ,IACnE,0BAAQ,IAAKC,GACZL,EAAAA,IAACM,GAAuC,MAAOD,EAC7C,SAACL,EAAAA,IAAAO,EAAA,CAAU,MAAAF,EAAc,CADP,EAAAG,EAAYH,CAAK,CAErC,EAEJ,CAAA,EACF,EACAL,EAAAA,IAACS,EAAwB,CAAA,SAAUhB,CAAQ,CAAA,CAC7C,CAAA,CAAA,CAEJ,CAEA,SAAwBiB,GAAa,CACnC,aACGC,EAAmB,CAAA,SAAS,YAC3B,SAAAX,EAAAA,IAACb,IAAW,CACd,CAAA,CAEJ"}