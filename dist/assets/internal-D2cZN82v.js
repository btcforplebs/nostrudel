import{p as c,hY as v,hZ as E,dX as b,r as o,j as e,T as g,y as x,E as d,cn as w,co as y,fX as C,dW as n,fY as D,fZ as I,f_ as S,f$ as W,F,C as m,H as N,h_ as B,h$ as L,aW as k,i0 as t,i1 as M,i2 as T}from"./index-C6wlVu-O.js";import{E as K,a as A}from"./event-kinds-table-ZNhBMzdA.js";import{I as H,E as P}from"./export-events-button-LHehTa1G.js";async function U(a){await B(t,a),await L(t,a.map(s=>k(s)))}async function X(){return(await t.getAll("events")).map(a=>a.event)}function z(){const{value:a}=c(async()=>await v(t),[]),{value:s}=c(async()=>await E(t),[]),u=b(n.idbMaxEvents),[p,r]=o.useState(!1),h=async()=>{r(!0),await M(),r(!1)},[j,i]=o.useState(!1),f=async()=>{i(!0),await T(),i(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs(g,{children:["Total events: ",a??"Loading..."]}),e.jsxs(x,{flexWrap:"wrap",children:[e.jsx(H,{onLoad:U}),e.jsx(P,{getEvents:X})]}),e.jsxs(x,{flexWrap:"wrap",children:[e.jsx(d,{onClick:h,isLoading:p,colorScheme:"primary",variant:"outline",children:"Clear cache"}),e.jsx(d,{colorScheme:"red",onClick:f,isLoading:j,children:"Delete database"})]}),e.jsxs(w,{children:[e.jsx(y,{children:"Maximum number of events"}),e.jsxs(C,{maxW:"xs",value:u,onChange:(Y,l)=>{Number.isFinite(l)?n.idbMaxEvents.next(l):n.idbMaxEvents.clear()},step:1e3,children:[e.jsx(D,{}),e.jsxs(I,{children:[e.jsx(S,{}),e.jsx(W,{})]})]})]}),e.jsx(F,{gap:"2",wrap:"wrap",alignItems:"flex-start",w:"full",children:s&&e.jsxs(e.Fragment,{children:[e.jsxs(m,{p:"2",minW:"sm",maxW:"lg",flex:1,children:[e.jsx(N,{size:"sm",children:"Events by kind"}),e.jsx(K,{kinds:s})]}),e.jsx(m,{p:"2",minW:"sm",maxW:"md",flex:1,children:e.jsx(A,{kinds:s})})]})})]})}export{z as default};
//# sourceMappingURL=internal-D2cZN82v.js.map
