import{a6 as b,ae as E,bI as f,c7 as k,t as C,cm as y,j as e,an as v,ao as F,ap as P,aq as M,ar as S,as as I,cn as L,co as O,v as R,cp as w,E as r,af as g,s as H,V,F as q,b as z,l as A,b1 as B,cj as D,e as _,f as $,ck as K,cl as N,m as u,H as p,S as j,aW as x}from"./index-C6wlVu-O.js";import{E as h}from"./emoji-pack-card-DPG5MS8t.js";import"./emoji-pack-menu-DlitT7Eb.js";function U({onClose:s,...a}){const c=b(),m=E(),{register:o,handleSubmit:n}=f({defaultValues:{title:""}}),l=n(async t=>{const d={kind:k,created_at:C().unix(),content:"",tags:[["d",t.title]]},i=await c("Create emoji pack",d);i&&m(`/emojis/${y.getSharableEventAddress(i.event)}`)});return e.jsxs(v,{onClose:s,size:"xl",...a,children:[e.jsx(F,{}),e.jsxs(P,{as:"form",onSubmit:l,children:[e.jsx(M,{p:"4",children:"Create Emoji pack"}),e.jsx(S,{}),e.jsx(I,{px:"4",py:"0",children:e.jsxs(L,{isRequired:!0,children:[e.jsx(O,{children:"Pack name"}),e.jsx(R,{type:"name",...o("title",{required:!0}),autoComplete:"off"})]})}),e.jsxs(w,{p:"4",children:[e.jsx(r,{mr:"2",onClick:s,children:"Cancel"}),e.jsx(r,{colorScheme:"primary",type:"submit",children:"Create"})]})]})]})}function G(){const s=g(),a=D(s.pubkey),c=_(),{loader:m,timeline:o}=$(`${s.pubkey}-emoji-packs`,c,s.pubkey?{authors:[s.pubkey],kinds:[k]}:void 0),n=K(a&&N(a)),l=o.filter(t=>{const d=u(t);return!n.some(i=>u(i)===d)});return e.jsxs(e.Fragment,{children:[n.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(p,{size:"lg",mt:"2",children:"Favorite packs"}),e.jsx(j,{columns:{base:1,lg:2},spacing:"2",children:n.map(t=>e.jsx(h,{pack:t},x(t)))})]}),l.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(p,{size:"lg",mt:"2",children:"Emoji packs"}),e.jsx(j,{columns:{base:1,lg:2},spacing:"2",children:o.map(t=>e.jsx(h,{pack:t},x(t)))})]})]})}function Q(){const s=g(),a=H();return e.jsxs(V,{children:[e.jsxs(q,{gap:"2",wrap:"wrap",children:[e.jsx(r,{as:z,to:"/emojis/browse",children:"Find packs"}),e.jsx(r,{as:A,href:"https://emojito.meme",isExternal:!0,rightIcon:e.jsx(B,{}),ml:"auto",children:"Emoji pack manager"}),s&&e.jsx(r,{colorScheme:"primary",onClick:a.onOpen,children:"Create Emoji pack"})]}),s&&e.jsx(G,{}),a.isOpen&&e.jsx(U,{isOpen:a.isOpen,onClose:a.onClose})]})}export{Q as default};
//# sourceMappingURL=index-0Gb9m-v2.js.map
