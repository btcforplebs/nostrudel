import{r as c,j as n,E as d,hW as x,v as g,dC as j,f8 as h}from"./index-C6wlVu-O.js";function w({onLoad:i}){const o=c.useRef(null),[a,r]=c.useState(!1),p=t=>{r(!0);const e=new FileReader;e.readAsText(t,"utf8"),e.onload=async()=>{if(typeof e.result!="string")return;const l=e.result.split(`
`),s=[];for(const f of l)try{const u=JSON.parse(f);s.push(u)}catch{}await i(s),alert(`Imported ${s.length} events`),r(!1)}};return n.jsxs(n.Fragment,{children:[n.jsx(d,{onClick:()=>{var t;return(t=o.current)==null?void 0:t.click()},isLoading:a,leftIcon:n.jsx(x,{}),children:"Import events"}),n.jsx(g,{hidden:!0,type:"file",accept:".jsonl",onChange:t=>{var e;return((e=t.target.files)==null?void 0:e[0])&&p(t.target.files[0])},ref:o})]})}function E({getEvents:i}){const[o,a]=c.useState(!1),r=async()=>{a(!0);const t=(await i()).map(s=>h(s)),e=new File([t.join(`
`)],"noStrudel-export.jsonl",{type:"application/jsonl"}),l=URL.createObjectURL(e);window.open(l),a(!1)};return n.jsx(d,{onClick:r,isLoading:o,leftIcon:n.jsx(j,{}),children:"Export database"})}export{E,w as I};
//# sourceMappingURL=export-events-button-LHehTa1G.js.map
