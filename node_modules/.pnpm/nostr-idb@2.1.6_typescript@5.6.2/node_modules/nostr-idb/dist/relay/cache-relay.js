import { RelayCore, } from "./relay-core.js";
export class CacheRelay {
    get url() {
        return "nostr-idb://cache-relay";
    }
    get connected() {
        return !!this.core.running;
    }
    db;
    core;
    constructor(db, opts = {}) {
        this.db = db;
        this.core = new RelayCore(db, opts);
    }
    async connect() {
        this.core.start();
    }
    async close() {
        this.core.stop();
    }
    async publish(event) {
        return this.core.publish(event);
    }
    async count(filters, params) {
        return this.core.count(filters);
    }
    subscribe(filters, options) {
        return this.core.subscribe(filters, options);
    }
}
