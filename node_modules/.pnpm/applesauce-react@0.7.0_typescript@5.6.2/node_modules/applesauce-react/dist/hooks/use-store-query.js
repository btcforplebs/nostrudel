import { useMemo } from "react";
import { useObservable } from "./use-observable.js";
import { useQueryStore } from "../provider.js";
/** Runs and subscribes to a query in the query store */
export function useStoreQuery(queryConstructor, args) {
    const store = useQueryStore();
    const observable = useMemo(() => {
        if (args)
            return store.runQuery(queryConstructor)(...args);
        else
            return undefined;
    }, [args, store]);
    return useObservable(observable);
}
