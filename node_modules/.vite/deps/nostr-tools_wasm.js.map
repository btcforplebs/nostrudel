{
  "version": 3,
  "sources": ["../../.pnpm/nostr-tools@2.7.2_typescript@5.6.2/node_modules/nostr-tools/lib/esm/wasm.js"],
  "sourcesContent": ["// wasm.ts\nimport { bytesToHex } from \"@noble/hashes/utils\";\n\n// core.ts\nvar verifiedSymbol = Symbol(\"verified\");\nvar isRecord = (obj) => obj instanceof Object;\nfunction validateEvent(event) {\n  if (!isRecord(event))\n    return false;\n  if (typeof event.kind !== \"number\")\n    return false;\n  if (typeof event.content !== \"string\")\n    return false;\n  if (typeof event.created_at !== \"number\")\n    return false;\n  if (typeof event.pubkey !== \"string\")\n    return false;\n  if (!event.pubkey.match(/^[a-f0-9]{64}$/))\n    return false;\n  if (!Array.isArray(event.tags))\n    return false;\n  for (let i2 = 0; i2 < event.tags.length; i2++) {\n    let tag = event.tags[i2];\n    if (!Array.isArray(tag))\n      return false;\n    for (let j = 0; j < tag.length; j++) {\n      if (typeof tag[j] === \"object\")\n        return false;\n    }\n  }\n  return true;\n}\nfunction sortEvents(events) {\n  return events.sort((a, b) => {\n    if (a.created_at !== b.created_at) {\n      return b.created_at - a.created_at;\n    }\n    return a.id.localeCompare(b.id);\n  });\n}\n\n// wasm.ts\nvar nw;\nfunction setNostrWasm(x) {\n  nw = x;\n}\nvar Wasm = class {\n  generateSecretKey() {\n    return nw.generateSecretKey();\n  }\n  getPublicKey(secretKey) {\n    return bytesToHex(nw.getPublicKey(secretKey));\n  }\n  finalizeEvent(t, secretKey) {\n    nw.finalizeEvent(t, secretKey);\n    return t;\n  }\n  verifyEvent(event) {\n    try {\n      nw.verifyEvent(event);\n      event[verifiedSymbol] = true;\n      return true;\n    } catch (err) {\n      return false;\n    }\n  }\n};\nvar i = new Wasm();\nvar generateSecretKey = i.generateSecretKey;\nvar getPublicKey = i.getPublicKey;\nvar finalizeEvent = i.finalizeEvent;\nvar verifyEvent = i.verifyEvent;\nexport {\n  finalizeEvent,\n  generateSecretKey,\n  getPublicKey,\n  setNostrWasm,\n  sortEvents,\n  validateEvent,\n  verifiedSymbol,\n  verifyEvent\n};\n"],
  "mappings": ";;;;;;AAIA,IAAI,iBAAiB,OAAO,UAAU;AACtC,IAAI,WAAW,CAAC,QAAQ,eAAe;AACvC,SAAS,cAAc,OAAO;AAC5B,MAAI,CAAC,SAAS,KAAK;AACjB,WAAO;AACT,MAAI,OAAO,MAAM,SAAS;AACxB,WAAO;AACT,MAAI,OAAO,MAAM,YAAY;AAC3B,WAAO;AACT,MAAI,OAAO,MAAM,eAAe;AAC9B,WAAO;AACT,MAAI,OAAO,MAAM,WAAW;AAC1B,WAAO;AACT,MAAI,CAAC,MAAM,OAAO,MAAM,gBAAgB;AACtC,WAAO;AACT,MAAI,CAAC,MAAM,QAAQ,MAAM,IAAI;AAC3B,WAAO;AACT,WAAS,KAAK,GAAG,KAAK,MAAM,KAAK,QAAQ,MAAM;AAC7C,QAAI,MAAM,MAAM,KAAK,EAAE;AACvB,QAAI,CAAC,MAAM,QAAQ,GAAG;AACpB,aAAO;AACT,aAAS,IAAI,GAAG,IAAI,IAAI,QAAQ,KAAK;AACnC,UAAI,OAAO,IAAI,CAAC,MAAM;AACpB,eAAO;AAAA,IACX;AAAA,EACF;AACA,SAAO;AACT;AACA,SAAS,WAAW,QAAQ;AAC1B,SAAO,OAAO,KAAK,CAAC,GAAG,MAAM;AAC3B,QAAI,EAAE,eAAe,EAAE,YAAY;AACjC,aAAO,EAAE,aAAa,EAAE;AAAA,IAC1B;AACA,WAAO,EAAE,GAAG,cAAc,EAAE,EAAE;AAAA,EAChC,CAAC;AACH;AAGA,IAAI;AACJ,SAAS,aAAa,GAAG;AACvB,OAAK;AACP;AACA,IAAI,OAAO,MAAM;AAAA,EACf,oBAAoB;AAClB,WAAO,GAAG,kBAAkB;AAAA,EAC9B;AAAA,EACA,aAAa,WAAW;AACtB,WAAO,WAAW,GAAG,aAAa,SAAS,CAAC;AAAA,EAC9C;AAAA,EACA,cAAc,GAAG,WAAW;AAC1B,OAAG,cAAc,GAAG,SAAS;AAC7B,WAAO;AAAA,EACT;AAAA,EACA,YAAY,OAAO;AACjB,QAAI;AACF,SAAG,YAAY,KAAK;AACpB,YAAM,cAAc,IAAI;AACxB,aAAO;AAAA,IACT,SAAS,KAAK;AACZ,aAAO;AAAA,IACT;AAAA,EACF;AACF;AACA,IAAI,IAAI,IAAI,KAAK;AACjB,IAAI,oBAAoB,EAAE;AAC1B,IAAI,eAAe,EAAE;AACrB,IAAI,gBAAgB,EAAE;AACtB,IAAI,cAAc,EAAE;",
  "names": []
}
